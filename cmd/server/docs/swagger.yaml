basePath: /api/v1
definitions:
  gin-backend-app_internal_dto_common.ErrorResponse:
    properties:
      error:
        example: Detailed error message
        type: string
      message:
        example: Something went wrong
        type: string
      success:
        example: false
        type: boolean
    type: object
  gin-backend-app_internal_dto_common.Response:
    properties:
      data: {}
      message:
        example: Operation successful
        type: string
      success:
        example: true
        type: boolean
    type: object
  gin-backend-app_internal_dto_request.BudgetRequest:
    properties:
      needs_percent:
        example: 20
        maximum: 100
        minimum: 0
        type: number
      savings_percent:
        example: 50
        maximum: 100
        minimum: 0
        type: number
      wants_percent:
        example: 30
        maximum: 100
        minimum: 0
        type: number
      weekly_income:
        example: 1000000
        type: number
    required:
    - weekly_income
    type: object
  gin-backend-app_internal_dto_request.ChangePasswordRequest:
    properties:
      confirm_password:
        example: MyNewSecurePass123!
        type: string
      new_password:
        example: MyNewSecurePass123!
        minLength: 8
        type: string
    required:
    - confirm_password
    - new_password
    type: object
  gin-backend-app_internal_dto_request.CreateCategoryRequest:
    properties:
      category_type:
        allOf:
        - $ref: '#/definitions/gin-backend-app_internal_models.CategoryType'
        example: needs
      description:
        example: Daily meals and dining expenses
        maxLength: 500
        type: string
      name:
        example: Food & Dining
        maxLength: 100
        type: string
    required:
    - category_type
    - name
    type: object
  gin-backend-app_internal_dto_request.CreateUserRequest:
    properties:
      email:
        example: john@example.com
        type: string
      name:
        example: john_doe
        maxLength: 50
        minLength: 3
        type: string
      password:
        example: MySecurePass123!
        minLength: 8
        type: string
    required:
    - email
    - name
    - password
    type: object
  gin-backend-app_internal_dto_request.LoginUserRequest:
    properties:
      email:
        example: john@example.com
        type: string
      password:
        example: MySecurePass123!
        type: string
    required:
    - email
    - password
    type: object
  gin-backend-app_internal_dto_request.OtpVerificationRequest:
    properties:
      token_otp:
        example: ABCD12
        type: string
    required:
    - token_otp
    type: object
  gin-backend-app_internal_dto_request.RequestChangePasswordOtpRequest:
    properties:
      email:
        example: john@example.com
        type: string
    required:
    - email
    type: object
  gin-backend-app_internal_dto_request.UpdateCategoryRequest:
    properties:
      category_type:
        allOf:
        - $ref: '#/definitions/gin-backend-app_internal_models.CategoryType'
        example: needs
      description:
        example: Daily meals and dining expenses
        maxLength: 500
        type: string
      name:
        example: Food & Dining
        maxLength: 100
        type: string
    type: object
  gin-backend-app_internal_dto_request.VerifyOTPAndEmailRequest:
    properties:
      email:
        example: john@example.com
        type: string
      token_otp:
        example: ABCD12
        type: string
    required:
    - email
    - token_otp
    type: object
  gin-backend-app_internal_models.CategoryType:
    enum:
    - needs
    - wants
    - savings
    type: string
    x-enum-varnames:
    - CategoryTypeNeeds
    - CategoryTypeWants
    - CategoryTypeSavings
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: Backend API for Traspac Competition
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Traspac Backend API
  version: "1.0"
paths:
  /auth/change-password:
    post:
      consumes:
      - application/json
      description: Change user password using verification token obtained from OTP
        verification
      parameters:
      - description: Verification token from OTP verification
        in: query
        name: token
        required: true
        type: string
      - description: New password data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/gin-backend-app_internal_dto_request.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Password changed successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid request data or token
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: Invalid or expired verification token
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      summary: Change password with verification token
      tags:
      - Password Reset
  /auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate user with email and password. Returns JWT token on
        successful authentication.
      parameters:
      - description: Login credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/gin-backend-app_internal_dto_request.LoginUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login successful
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "401":
          description: Invalid credentials
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      summary: User login
      tags:
      - Authentication
  /auth/register:
    post:
      consumes:
      - application/json
      description: Create a new user account with email verification. Returns JWT
        token and sends verification email.
      parameters:
      - description: User registration data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/gin-backend-app_internal_dto_request.CreateUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: User created successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid request data or user already exists
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      summary: Register new user
      tags:
      - Authentication
  /auth/request-change-password:
    post:
      consumes:
      - application/json
      description: Send OTP code to user's email for password reset. OTP expires in
        24 hours.
      parameters:
      - description: Email address for password reset
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/gin-backend-app_internal_dto_request.RequestChangePasswordOtpRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Password reset email sent successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: Email not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      summary: Request password reset
      tags:
      - Password Reset
  /auth/resend-verification:
    post:
      consumes:
      - application/json
      description: Resend 6-digit OTP verification code to user's email address. Rate
        limited to once per minute to prevent spam. User must be authenticated to
        use this endpoint.
      produces:
      - application/json
      responses:
        "200":
          description: Verification email sent successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Rate limit exceeded or email already verified
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "429":
          description: Too many requests - rate limited
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Resend email verification code
      tags:
      - Email Verification
  /auth/verification-status:
    get:
      consumes:
      - application/json
      description: Get the current email verification status for the authenticated
        user
      produces:
      - application/json
      responses:
        "200":
          description: Verification status retrieved successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Check email verification status
      tags:
      - Email Verification
  /auth/verify-email:
    post:
      consumes:
      - application/json
      description: Verify user's email address using 6-digit OTP code received via
        email. User must be authenticated to use this endpoint.
      parameters:
      - description: OTP verification data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/gin-backend-app_internal_dto_request.OtpVerificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Email verified successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid request data or OTP
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Verify email address with OTP
      tags:
      - Email Verification
  /auth/verify-otp-password-change:
    post:
      consumes:
      - application/json
      description: Verify OTP code received via email and get verification token for
        password reset
      parameters:
      - description: Email and OTP verification data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/gin-backend-app_internal_dto_request.VerifyOTPAndEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OTP verified successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid request data or OTP
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: Email not found or OTP expired
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      summary: Verify OTP and get verification token
      tags:
      - Password Reset
  /budget:
    delete:
      consumes:
      - application/json
      description: Delete the budget for authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: Budget deleted successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: Budget not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete user budget
      tags:
      - Budget Management
    get:
      consumes:
      - application/json
      description: Retrieve detailed budget information for authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: Budget details retrieved successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: Budget not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user budget details
      tags:
      - Budget Management
    post:
      consumes:
      - application/json
      description: Create budget for authenticated user with default (50-30-20) or
        custom allocation
      parameters:
      - description: Budget data (custom percentages optional)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/gin-backend-app_internal_dto_request.BudgetRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Budget created successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "409":
          description: Budget already exists
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create user budget
      tags:
      - Budget Management
    put:
      consumes:
      - application/json
      description: Update existing budget for authenticated user with default (50-30-20)
        or custom allocation
      parameters:
      - description: Budget data (custom percentages optional)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/gin-backend-app_internal_dto_request.BudgetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Budget updated successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: Budget not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user budget
      tags:
      - Budget Management
  /budget/summary:
    get:
      consumes:
      - application/json
      description: Retrieve detailed budget summary including allocation, usage, and
        remaining amounts
      produces:
      - application/json
      responses:
        "200":
          description: Budget summary retrieved successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: Budget not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get detailed budget summary with usage
      tags:
      - Budget Management
  /categories:
    get:
      consumes:
      - application/json
      description: Get all categories for authenticated user
      parameters:
      - description: Filter by category type (needs, wants, savings)
        in: query
        name: type
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Categories retrieved successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get all categories
      tags:
      - Categories
    post:
      consumes:
      - application/json
      description: Create a new category for authenticated user
      parameters:
      - description: Category creation data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/gin-backend-app_internal_dto_request.CreateCategoryRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Category created successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a new category
      tags:
      - Categories
  /categories/{id}:
    delete:
      consumes:
      - application/json
      description: Delete category for authenticated user
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Category deleted successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid category ID
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: Category not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete category
      tags:
      - Categories
    get:
      consumes:
      - application/json
      description: Get category details by ID for authenticated user
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Category retrieved successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid category ID
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: Category not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get category by ID
      tags:
      - Categories
    put:
      consumes:
      - application/json
      description: Update category for authenticated user
      parameters:
      - description: Category ID
        in: path
        name: id
        required: true
        type: string
      - description: Category update data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/gin-backend-app_internal_dto_request.UpdateCategoryRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Category updated successfully
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.Response'
        "400":
          description: Invalid request data
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
        "404":
          description: Category not found
          schema:
            $ref: '#/definitions/gin-backend-app_internal_dto_common.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update category
      tags:
      - Categories
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
